function check_cell(e){var a=$(e).html();return""===a?!0:!1}function change_cell(e){{var a=$(e).attr("id");parseInt(a.replace(/[^0-9\.]/g,""),10)}1===turn.current_player()?($(e).html('<span class="'+anim_x+' animated">'+piece_x+"</span>").addClass("X"),check_winner("X")):($(e).html('<span class="'+anim_o+' animated">'+piece_o+"</span>").addClass("O"),check_winner("O")),$(e).removeClass("open").addClass("closed"),turn.change_turn(),play_count+=1}function check_winner(e){if(check_rows(e)||check_cols(e)||check_diag(e))game_over=!0,end_game.winner(e);else{if(9!=play_count)return!1;game_over=!0,end_game.tie()}}function check_rows(e){return $("#cell-1").hasClass(e)&&$("#cell-2").hasClass(e)&&$("#cell-3").hasClass(e)||$("#cell-4").hasClass(e)&&$("#cell-5").hasClass(e)&&$("#cell-6").hasClass(e)||$("#cell-7").hasClass(e)&&$("#cell-8").hasClass(e)&&$("#cell-9").hasClass(e)?!0:!1}function check_cols(e){return $("#cell-1").hasClass(e)&&$("#cell-4").hasClass(e)&&$("#cell-7").hasClass(e)||$("#cell-2").hasClass(e)&&$("#cell-5").hasClass(e)&&$("#cell-8").hasClass(e)||$("#cell-3").hasClass(e)&&$("#cell-6").hasClass(e)&&$("#cell-9").hasClass(e)?!0:!1}function check_diag(e){return $("#cell-1").hasClass(e)&&$("#cell-5").hasClass(e)&&$("#cell-9").hasClass(e)||$("#cell-3").hasClass(e)&&$("#cell-5").hasClass(e)&&$("#cell-7").hasClass(e)?!0:!1}var piece_x="X",piece_o="O",anim_x="fadeIn",anim_o="fadeIn",score_1=0,score_2=0,score=0,play_count=1,game_over=!1,turn={number:0,current_player:function(){return this.number%2===0?1:2},change_turn:function(){this.number+=1}},end_game={winner:function(){$("#board").addClass("game-over"),score=turn.current_player(),1===turn.current_player()?(score_1+=1,score=score_1):(score_2+=1,score=score_2),$("#player-"+turn.current_player()+" .score-total").text(score),$("#player-"+turn.current_player()).addClass("winner")},tie:function(){$("#board").addClass("game-over"),$(".results").prepend("<h2>It's a tie!</h2>")}};$(function(){$("#board td").addClass("open"),$("#board td").on("click",function(){game_over||check_cell(this)&&change_cell(this)}),$("#restart").on("click",function(){$("#board td.closed").html("").removeClass().addClass("open"),$("#board").removeClass("game-over"),$(".scoreboard").removeClass("winner"),$(".results h2").remove(),play_count=0,game_over=!1}),$(window).konami({cheat:function(){console.log("Lyft code activated!"),$("html").addClass("lyft"),$("h1").text("Lyft Tac Toe"),piece_x='<img src="img/mustache.png">',piece_o='<img src="img/balloon.png">',anim_x="rubberBand",anim_o="fadeInUpBig",$('#board td span:contains("X")').html(piece_x),$('#board td span:contains("O")').html(piece_o),$("#player-1 .score-header").text("Staches"),$("#player-2 .score-header").text("Balloons")}})}),function(e){"use strict";e.fn.konami=function(a){var s,l,c;return s=e.extend({},e.fn.konami.defaults,a),this.each(function(){l=[],e(window).keyup(function(e){c=e.keyCode||e.which,s.code.length>l.push(c)||(s.code.length<l.length&&l.shift(),s.code.toString()===l.toString()&&s.cheat())})})},e.fn.konami.defaults={code:[38,38,40,40,37,39,37,39,66,65],cheat:null}}(jQuery);